<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OLGA tpl files, examples and howto &#8212; Pyfas 0.2.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Pyfas 0.2.3 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pyfas</span> <span class="k">as</span> <span class="nn">fa</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">120</span>
</pre></div>
</div>
</div>
<div class="section" id="OLGA-tpl-files,-examples-and-howto">
<h1>OLGA tpl files, examples and howto<a class="headerlink" href="#OLGA-tpl-files,-examples-and-howto" title="Permalink to this headline">¶</a></h1>
<p>For an tpl file the following methods are available:</p>
<ul class="simple">
<li>filter_data - return a filtered subset of trends</li>
<li>extract - extract a single trend variable</li>
<li>to_excel - dump all the data to an excel file</li>
</ul>
<p>The usual workflow should be:</p>
<ol class="arabic simple">
<li>Load the correct tpl</li>
<li>Select the desired variable(s)</li>
<li>Extract the results or dump all the variables to an excel file</li>
<li>Post-process your data in Excel or in the notebook itself</li>
</ol>
<div class="section" id="Tpl-loading">
<h2>Tpl loading<a class="headerlink" href="#Tpl-loading" title="Permalink to this headline">¶</a></h2>
<p>To load a specific tpl file the correct path and filename have to be
provided:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl_path</span> <span class="o">=</span> <span class="s1">&#39;../../pyfas/test/test_files/&#39;</span>
<span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;11_2022_BD.tpl&#39;</span>
<span class="n">tpl</span> <span class="o">=</span> <span class="n">fa</span><span class="o">.</span><span class="n">Tpl</span><span class="p">(</span><span class="n">tpl_path</span><span class="o">+</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Trend-selection">
<h2>Trend selection<a class="headerlink" href="#Trend-selection" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">A tpl file may contain hundreds of trends, in particular for complex
networks. For this reason a filtering method is quite useful. A trend
can be specified in an OLGA input files in differnet ways, the
identification of a single trend may be not trivial.</div>
<div class="line">The easiest way is to filter all the trends using patters, the command
<code class="docutils literal"><span class="pre">tpl.filter_trends(&quot;PT&quot;)</span></code> filters all the pressure trends (or
better, all the trends with &#8220;PT&#8221; in the description, if you have
defined a temperature trend in the position &#8220;PTTOPSIDE&#8221;, for example,
this trend will be selected too). The resulting python dictionaly will
have a unique index for each filtered trend that can be used to
identify the interesting trend(s). In case of an emply pattern all the
available trends will be reported.</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl</span><span class="o">.</span><span class="n">filter_data</span><span class="p">(</span><span class="s1">&#39;PT&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[7]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>{9: &quot;PT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 37: &quot;PT &#39;POSITION:&#39; &#39;BOTTOMHOLE&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 38: &quot;PT &#39;POSITION:&#39; &#39;TUBINGHEAD&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 39: &quot;PT &#39;POSITION:&#39; &#39;DC6&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 40: &quot;PT &#39;POSITION:&#39; &#39;DC7&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 41: &quot;PT &#39;POSITION:&#39; &#39;DC8&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 42: &quot;PT &#39;POSITION:&#39; &#39;DC9&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 43: &quot;PT &#39;POSITION:&#39; &#39;RBM&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 44: &quot;PT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;}
</pre></div>
</div>
</div>
<p>or</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl</span><span class="o">.</span><span class="n">filter_data</span><span class="p">(</span><span class="s2">&quot;&#39;POSITION:&#39; &#39;EXIT&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[10]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>{3: &quot;GLT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Total liquid mass flow&#39;\n&quot;,
 4: &quot;GLTHL &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Mass flow rate of oil&#39;\n&quot;,
 5: &quot;GLTWT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Mass flow rate of water excluding vapour&#39;\n&quot;,
 6: &quot;GLWVT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Total mass flow rate of water including Vapour&#39;\n&quot;,
 7: &quot;GT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Total mass flow&#39;\n&quot;,
 8: &quot;HOL &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(-)&#39; &#39;Holdup (liquid volume fraction)&#39;\n&quot;,
 9: &quot;PT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 10: &quot;QLT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(M3/S)&#39; &#39;Total liquid volume flow&#39;\n&quot;,
 11: &quot;TM &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(C)&#39; &#39;Fluid temperature&#39;\n&quot;,
 12: &quot;UL &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(M/S)&#39; &#39;Average liquid film velocity&#39;\n&quot;,
 20: &quot;HOL &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(-)&#39; &#39;Holdup (liquid volume fraction)&#39;\n&quot;,
 28: &quot;HOLWT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(-)&#39; &#39;Water volume fraction&#39;\n&quot;,
 36: &quot;ID &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(-)&#39; &#39;Flow regime: 1=Stratified, 2=Annular, 3=Slug, 4=Bubble.&#39;\n&quot;,
 44: &quot;PT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(PA)&#39; &#39;Pressure&#39;\n&quot;,
 52: &quot;Q2 &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(W/M2-C)&#39; &#39;Overall heat transfer coefficient&#39;\n&quot;,
 60: &quot;TM &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(C)&#39; &#39;Fluid temperature&#39;\n&quot;,
 68: &quot;TU &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(C)&#39; &#39;Ambient temperature&#39;\n&quot;,
 76: &quot;TWS &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(C)&#39; &#39;Inner wall surface temperature&#39;\n&quot;,
 84: &quot;QGST &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(SM3/S)&#39; &#39;Gas volume flow at standard conditions&#39;\n&quot;,
 92: &quot;QOST &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(SM3/S)&#39; &#39;Oil volume flow at standard conditions&#39;\n&quot;,
 100: &quot;QWST &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(SM3/S)&#39; &#39;Water volume flow at standard conditions&#39;\n&quot;,
 108: &quot;AL &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(-)&#39; &#39;Void (gas volume fraction)&#39;\n&quot;,
 116: &quot;GG &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Gas mass flow&#39;\n&quot;,
 124: &quot;GLT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Total liquid mass flow&#39;\n&quot;,
 132: &quot;GT &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(KG/S)&#39; &#39;Total mass flow&#39;\n&quot;,
 140: &quot;DTHYD &#39;POSITION:&#39; &#39;EXIT&#39; &#39;(C)&#39; &#39;Difference between hydrate and section temperature&#39;\n&quot;}
</pre></div>
</div>
</div>
<p>The same outpout can be reported as a pandas dataframe:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tpl</span><span class="o">.</span><span class="n">filter_data</span><span class="p">(</span><span class="s1">&#39;PT&#39;</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Trends&quot;</span><span class="p">,))</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trends</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>PT 'POSITION:' 'EXIT' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>37</th>
      <td>PT 'POSITION:' 'BOTTOMHOLE' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>38</th>
      <td>PT 'POSITION:' 'TUBINGHEAD' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>39</th>
      <td>PT 'POSITION:' 'DC6' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>40</th>
      <td>PT 'POSITION:' 'DC7' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>41</th>
      <td>PT 'POSITION:' 'DC8' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>42</th>
      <td>PT 'POSITION:' 'DC9' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>43</th>
      <td>PT 'POSITION:' 'RBM' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>44</th>
      <td>PT 'POSITION:' 'EXIT' '(PA)' 'Pressure'\n</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="Dump-to-excel">
<h2>Dump to excel<a class="headerlink" href="#Dump-to-excel" title="Permalink to this headline">¶</a></h2>
<p>To dump all the variables in an excel file use <code class="docutils literal"><span class="pre">tpl.to_excel()</span></code> If no
path is provided an excel file with the same name of the tpl file is
generated in the working folder. Depending on the tpl size this may take
a while.</p>
</div>
<div class="section" id="Extract-a-specific-variable">
<h2>Extract a specific variable<a class="headerlink" href="#Extract-a-specific-variable" title="Permalink to this headline">¶</a></h2>
<p>Once you know the variable(s) index you are interested in (see the
filtering paragraph above for more info) you can extract it (or them)
and use the data directly in python.</p>
<p>Let&#8217;s assume you are interested in the inlet pressure and the outlet
temperature:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tpl</span><span class="o">.</span><span class="n">filter_data</span><span class="p">(</span><span class="s2">&quot;TM&quot;</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Trends&quot;</span><span class="p">,))</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trends</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>11</th>
      <td>TM 'POSITION:' 'EXIT' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>53</th>
      <td>TM 'POSITION:' 'BOTTOMHOLE' '(C)' 'Fluid tempe...</td>
    </tr>
    <tr>
      <th>54</th>
      <td>TM 'POSITION:' 'TUBINGHEAD' '(C)' 'Fluid tempe...</td>
    </tr>
    <tr>
      <th>55</th>
      <td>TM 'POSITION:' 'DC6' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>56</th>
      <td>TM 'POSITION:' 'DC7' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>57</th>
      <td>TM 'POSITION:' 'DC8' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>58</th>
      <td>TM 'POSITION:' 'DC9' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>59</th>
      <td>TM 'POSITION:' 'RBM' '(C)' 'Fluid temperature'\n</td>
    </tr>
    <tr>
      <th>60</th>
      <td>TM 'POSITION:' 'EXIT' '(C)' 'Fluid temperature'\n</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tpl</span><span class="o">.</span><span class="n">filter_data</span><span class="p">(</span><span class="s2">&quot;PT&quot;</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Trends&quot;</span><span class="p">,))</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trends</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>PT 'POSITION:' 'EXIT' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>37</th>
      <td>PT 'POSITION:' 'BOTTOMHOLE' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>38</th>
      <td>PT 'POSITION:' 'TUBINGHEAD' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>39</th>
      <td>PT 'POSITION:' 'DC6' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>40</th>
      <td>PT 'POSITION:' 'DC7' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>41</th>
      <td>PT 'POSITION:' 'DC8' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>42</th>
      <td>PT 'POSITION:' 'DC9' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>43</th>
      <td>PT 'POSITION:' 'RBM' '(PA)' 'Pressure'\n</td>
    </tr>
    <tr>
      <th>44</th>
      <td>PT 'POSITION:' 'EXIT' '(PA)' 'Pressure'\n</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Our targets are:</p>
<p>variable 11 - TM &#8216;POSITION:&#8217; &#8216;EXIT&#8217; &#8216;(C)&#8217; &#8216;Fluid temperature&#8217;</p>
<p>and</p>
<p>variable 38 - PT &#8216;POSITION:&#8217; &#8216;TUBINGHEAD&#8217; &#8216;(PA)&#8217; &#8216;Pressure&#8217;</p>
<p>Now we can proceed with the data extraction:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="n">tpl</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The tpl object now has the two trends available in the <code class="docutils literal"><span class="pre">data</span></code>
attribute:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[23]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([  4.88630000e-10,   6.70822000e-10,   6.64229000e-10, ...,
         4.08701000e-04,   4.08640000e-04,   4.08636000e-04])
</pre></div>
</div>
</div>
<p>while the <em>label</em> attibute stores the variable type:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">tpl</span><span class="o">.</span><span class="n">label</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[27]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&#39;TM POSITION: EXIT (C) Fluid temperature&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="Data-processing">
<h2>Data processing<a class="headerlink" href="#Data-processing" title="Permalink to this headline">¶</a></h2>
<p>The results available in the data attribute are numpy arrays and can be
easily manipulated and plotted:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">pt_inlet</span> <span class="o">=</span> <span class="n">tpl</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">38</span><span class="p">]</span>
<span class="n">tm_outlet</span> <span class="o">=</span> <span class="n">tpl</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">));</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">p0</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tpl</span><span class="o">.</span><span class="n">time</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span> <span class="n">tm_outlet</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Outlet T [C]&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time [h]&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
<span class="n">p1</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tpl</span><span class="o">.</span><span class="n">time</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span> <span class="n">pt_inlet</span><span class="o">/</span><span class="mf">1e5</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Inlet P [bara]&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Outlet T&quot;</span><span class="p">,</span> <span class="s2">&quot;Inlet P&quot;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Inlet P and Outlet T for case FC1&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_OLGA_trend_output_files_30_0.png" src="../_images/notebooks_OLGA_trend_output_files_30_0.png" />
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">OLGA tpl files, examples and howto</a><ul>
<li><a class="reference internal" href="#Tpl-loading">Tpl loading</a></li>
<li><a class="reference internal" href="#Trend-selection">Trend selection</a></li>
<li><a class="reference internal" href="#Dump-to-excel">Dump to excel</a></li>
<li><a class="reference internal" href="#Extract-a-specific-variable">Extract a specific variable</a></li>
<li><a class="reference internal" href="#Data-processing">Data processing</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notebooks/OLGA trend output files.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Pyfas 0.2.3 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Giuseppe Pagliuca.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>